# plupolly
쌍피의 고스톱에서 쓰일 실시간 설문 조사 플랫폼

## 실시간 방송 일정 
- 매일 밤 11시 30분부터 새벽 12시 30분까지 1시간씩 라이브 코딩합니다. 
- 시작일은 아직 안정했어요. 

## 요구사항 정리
- 웹 URL을 통해 설문에 참여할 수 있어야한다. 
  - 설문할 수 있는 시간이 정해져 있다.
  - 시간을 벗어나면 "설문이 종료 됐습니다" 라고 일단 에러페이지 표시 
- 설문 내용은 "이 회사 어떤가요?" 와 "Go / Stop" 답변 두개만 표기하면 된다.  

## 화면 계획
```
       투표종료: 00:15초

                65%
   Go ==========||===== Stop

      실시간 투표자수: 30명

```


## 구현 계획
- 백엔드 서버: nodejs with [Koa][1]
- 실시간 집계: socket.io
- 흐름도: 
  1. 로컬에서 서버를 띄운다.
  2. ngrok으로 URL을 공개한다. 
  3. 유튜브 실시간 채팅창에 ngrok URL을 공개한다. 
  4. 사용자가 URL로 접속한다.
  5. 사용자는 Go or Stop 을 클릭할수 있다. 
    - 투표는 30초간 진행된다. 
    - 사용자는 30초 안에 자유롭게 의사결정을 할수 있다.  
    - 사용자의 선택은 실시간으로 반영된다. 
    - 타이머가 유효할때까지는 자유롭게 선택을 바꿀수 있다. (실시간 반영)
    - 투표는 실시간이므로 접속자가 세션(소켓)을 종료하면 투표에서 자동으로 빠진다. 
  6. 타이머가 끝나고 실시간으로 최종 집계된 투표가 확정된다.


## 자료조사
- ngrok으로 로컬 네트워크의 터널 열기

[1]:http://koajs.com/#introduction